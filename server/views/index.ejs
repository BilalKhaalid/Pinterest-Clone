<!DOCTYPE html>
<html>
  <head>
    <title>Pinterest</title>
    <link rel="stylesheet" href="../stylesheets/style.css" />
  </head>
  <body>
    <div class="container">
      <div class="content">
        <!--pinterest logo-->
        <img
          src="https://i.pinimg.com/originals/d3/d1/75/d3d175e560ae133f1ed5cd4ec173751a.png"
          alt="pin logo"
          class="img1"
        />
        <p class="header">Register to see more</p>

        <form id="registrationForm" action="/register" method="post">
          <input type="text" placeholder="Username" class="detail" name="username" />
          <input type="email" placeholder="Email" class="detail" name="email" />
          <input type="password" placeholder="Password" class="detail" name="password" />
          <input type="text" placeholder="FullName" class="detail" name="fullname" />
          <button type="submit" class="btn int">Register</button>
        </form>
        
        <br />

        <h4>Forgot your password?</h4>

        <!-- <a href="/register" class="btn int">Register</a> -->
        <!-- <p class="or">OR</p>
        <button class="btn fbk">
          <i
            class="fab fa-facebook fa-lg"
            style="color: white; padding-right: 10px"
          ></i
          ><a href="#">Continue with Facebook</a></button
        ><br />
        <button class="btn ggl">
          <i
            class="fab fa-google"
            style="color: rgb(11, 241, 22); padding-right: 10px"
          ></i
          ><a href="#">Continue with Google</a>
        </button>

        <footer>
          <p>
            By continuing, you agree to Pinterest's
            <b>Terms of Service, Privacy policy.</b>
          </p> -->
          <hr />
          <a href="/login" class="anchor"
            >Already have an account on Pinterest? Login</a
          >
        </footer>
      </div>
    </div>
    
      <!-- Include this script block at the end of your HTML body -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Find the form by ID
    const registrationForm = document.getElementById("registrationForm");

    // Add an event listener for form submission
    registrationForm.addEventListener("submit", async function (event) {
      // Prevent the default form submission
      event.preventDefault();

      try {
        // Fetch options for the registration request
        const fetchOptions = {
          method: "POST",
          body: new FormData(registrationForm),
          // Add any other necessary headers or configurations
        };

        // Perform the registration request
        const response = await fetch("/register", fetchOptions);

        // Check if the registration was successful (you may need to adjust based on your server response)
        if (response.ok) {
          console.log("Registration successful");
          // Redirect to the "/profile" page using client-side routing
          window.location.href = "/profile";
        } else {
          console.error("Registration failed");
        }
      } catch (error) {
        console.error("Registration error:", error);
      }
    });
  });
    </script>
  </body>
</html>
